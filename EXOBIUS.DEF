DEFINITION MODULE Exobius;

IMPORT Graph, MsMouse;

FROM Graph IMPORT
    FillMaskType;

TYPE
    CoordArray = ARRAY[0..10] OF CARDINAL;

CONST
    SolidFill = Graph.FillMaskType(0FFH,0FFH,0FFH,0FFH,0FFH,0FFH,0FFH,0FFH);
    GameSpeed = 5;
    PlaneWidth = 50; PlaneHeight = 25;
    EnemyYStart = 87;  (* 200 - EnemyYStart is actually the y-coordinate *)
    PlaneXMin = 15; PlaneXMax = 255; PlaneMovement = 5; PlaneXMove = 25; CollisionY = 158;
    Black = 0;
    DarkestGrey = 17; DarkGrey = 19; Grey = 21; LightGrey = 23; LightestGrey = 25;
    DarkestWhite = 26; DarkWhite = 27; White = 28; LightWhite = 29; LightestWhite = 30;
    DarkestBlue = 175; DarkBlue = 104; Blue = 1; LightBlue = 55; LightestBlue = 80;
    DarkestRed = 184; DarkRed = 112; Red = 4; LightRed = 40; LightestRed = 41;
    DarkestBrown = 185; DarkBrown = 186; Brown = 114; LightBrown = 6; LightestBrown = 42;
    DarkestGreen = 187; DarkGreen = 190; Green = 120; LightGreen = 2; LightestGreen = 48;
    DarkestYellow = 42; DarkYellow = 43; Yellow = 44; LightYellow = 14; LightestYellow = 68;

VAR
    Key : CHAR;
    Width, Height, PlaneX : INTEGER;
    Enemy1X, Enemy2X, Enemy3X, Enemy4X, Enemy5X, Enemy6X, Enemies,
    BulletX, BulletY, OldBulletX, OldBulletY, PlaneY, CoverRectangleX, Count, Lives, EnemyY,
    NegPlaneSize, Score, BkSize, GroundSize : CARDINAL;
    PlaneAddress, BkAddress, GroundAddress : ADDRESS;
    BkColour, OldBkColor : LONGCARD;
    Xs, Ys : CoordArray;
    OneAlive, TwoAlive, ThreeAlive, FourAlive, FiveAlive, SixAlive,
    ScreenComplete, GameOver, Cheat, PlaneInMemory : BOOLEAN;
    MouseButtons : MsMouse.MsData;
    MouseMove : MsMouse.MsMotion;

PROCEDURE SetVGAMode;
PROCEDURE SetTextMode;
PROCEDURE SwapVGAPages;
PROCEDURE DisableVGAPageSwapping;
PROCEDURE PutPixel(x, y : CARDINAL; color : BYTE);
PROCEDURE SetPixel(pixPos : CARDINAL; Color : BYTE);
PROCEDURE GetPixel(x, y : CARDINAL) : SHORTCARD;
PROCEDURE DrawPlane(x, y, Width, Height : CARDINAL);
PROCEDURE Update3DBullet;
PROCEDURE CheckSpecialKeys;
PROCEDURE CheckMouseAndSpecialKeys;
PROCEDURE CheckMouse;
PROCEDURE Die;
PROCEDURE DrawGameOver;
PROCEDURE FinishScreen;
PROCEDURE CheckDeath1;
PROCEDURE A (x, y : CARDINAL);
PROCEDURE B (x, y : CARDINAL);
PROCEDURE C (x, y : CARDINAL);
PROCEDURE D (x, y : CARDINAL);
PROCEDURE E (x, y : CARDINAL);
PROCEDURE F (x, y : CARDINAL);
PROCEDURE G (x, y : CARDINAL);
PROCEDURE H (x, y : CARDINAL);
PROCEDURE I (x, y : CARDINAL);
PROCEDURE J (x, y : CARDINAL);
PROCEDURE K (x, y : CARDINAL);
PROCEDURE L (x, y : CARDINAL);
PROCEDURE M (x, y : CARDINAL);
PROCEDURE N (x, y : CARDINAL);
PROCEDURE O (x, y : CARDINAL);
PROCEDURE P (x, y : CARDINAL);
PROCEDURE Q (x, y : CARDINAL);
PROCEDURE R (x, y : CARDINAL);
PROCEDURE S (x, y : CARDINAL);
PROCEDURE T (x, y : CARDINAL);
PROCEDURE U (x, y : CARDINAL);
PROCEDURE V (x, y : CARDINAL);
PROCEDURE W (x, y : CARDINAL);
PROCEDURE X (x, y : CARDINAL);
PROCEDURE Y (x, y : CARDINAL);
PROCEDURE Z (x, y : CARDINAL);
PROCEDURE ClearTheBuffer;

END Exobius.
